#!/usr/bin/env python
PACKAGE = "unav2_hardware"

from dynamic_reconfigure.parameter_generator_catkin import *

gen = ParameterGenerator()

# Bridge
enable = gen.enum([ gen.const("Low",  bool_t, False, "Enable normally low"),
                    gen.const("High", bool_t, True, "Enable normally high")],
                    "Logic state")
gen.add("bridge_enable_polarity", bool_t, False, "Default logic value to enable the H bridge", False, edit_method=enable)

gen.add("PWM_dead_zone",  double_t, 0, "[mS] Dead Zone PWM",                    0,  0)
gen.add("PWM_frequency",     int_t,    0, "[kHz] frequency of execution PWM",       0,   1, 100)

gen.add("volt_offset", double_t, 0, "[V] Voltage sense offset", 1,  0)
gen.add("volt_gain", double_t, 0, "[V/V] Gain Voltage", 1,  0)

gen.add("current_offset", double_t, 0, "[V] Current sense offset in volt", 0,  0)
gen.add("current_gain", double_t, 0, "[V/A] Current sense gain in Volt Ampere", 1,  0)

exit(gen.generate(PACKAGE, "unav_node", "UnavBridge"))
